# N前线小程序开发指令（2026-01-31 更新版）

你好！我需要你开发一个微信小程序"N前线"。

## 📍 项目信息

**项目位置**：C:\dev\Nnews\figma  
**目标用户**：中国对日软件外包公司的中高层管理者  
**核心功能**：每日快速了解客户野村総合研究所（NRI）的最新公开动态  

**设计风格**：
- 专业克制、偏金融/咨询风格
- 类似企业研究简报
- 日系沉稳（寂刹风格）+ 中国书法泼墨写意
- 深蓝/深灰配色
- ⚠️ **绝对不要**娱乐化或卡通风格

---

## 🎯 关键进展（2026-01-31）

### ✅ 已完成：统一UI组件系统

我们刚刚完成了所有页面的UI组件统一工作，建立了**完整的设计规范系统**，包含：

1. **CategoryTag.tsx** - 分类标签组件（12种变体）
2. **LevelBadge.tsx** - 等级徽章组件（9种变体）
3. **TimeFilter.tsx** - 时间筛选组件（11种变体）

**总计：32+ 种显示变体，覆盖所有页面场景**

所有页面已更新使用新的统一组件系统，确保视觉一致性。

---

## 📚 请按顺序阅读以下文档

### 1️⃣ 基础文档（必读）
1. **PROMPT_FOR_GEMINI.md** - 项目总览
2. **WECHAT_MINIPROGRAM_UI_GUIDE.md** - 完整UI规范
3. **BRAND_GUIDE.md** - 品牌视觉系统

### 2️⃣ 新增文档（必读⭐）
4. **UNIFIED_COMPONENT_SYSTEM.md** - 统一组件系统规范
5. **UI_COMPONENTS_SPECIFICATION.md** - 组件详细规范

---

## 🎨 统一组件系统概览

### 1. CategoryTag - 分类标签系统

**5大分类 + 1个全选**，每个都有专属颜色：

| 分类 Key | 中文标签 | 日文标签 | 颜色主题 |
|---------|---------|---------|---------|
| `ir` | IR情报 | IRニュース | 蓝色系 #3b82f6 |
| `ai` | AI・数字化 | AI・デジタル | 绿色系 #10b981 |
| `finance` | 证券/金融 | 証券・金融 | 紫色系 #8b5cf6 |
| `hr` | 人事・组织 | 人事・組織 | 橙色系 #f97316 |
| `governance` | 治理 | ガバナンス | 灰色系 #6b7280 |
| `all` | 全部 | すべて | 深灰 #334155 |

**3种显示变体**：
- `small` - 小尺寸（用于新闻卡片、详情页）
- `large` - 大尺寸（用于设置页面）
- `filter` - 筛选按钮（用于分类浏览页顶部）

**组件特性**：
- ✅ 彩色背景 + 白色文字
- ✅ 圆角设计（4rpx / 8rpx）
- ✅ 自动中日双语切换
- ✅ 激活/未激活状态

---

### 2. LevelBadge - 等级徽章系统

**3级重要性标记**：

| 等级 | 中文 | 日文 | 颜色 | 含义 |
|-----|------|------|------|------|
| `s` | S级 | Sクラス | 橙色 #f97316 | 高度重要（财报、重大发布） |
| `a` | A级 | Aクラス | 蓝色 #3b82f6 | 中度重要（业务动态） |
| `b` | B级 | Bクラス | 灰色 #6b7280 | 一般重要（行业资讯） |

**3种显示变体**：
- `standard` - 标准尺寸（用于新闻卡片）
- `large` - 大尺寸（用于设置页面）
- `compact` - 紧凑尺寸（用于详情页标题栏）

**组件特性**：
- ✅ 圆形徽章设计
- ✅ 彩色背景 + 白色文字
- ✅ 自动中日双语切换
- ✅ 可选择/未选择状态（用于筛选）

---

### 3. TimeFilter - 时间筛选系统

**5类时间筛选组件**：

#### 3.1 DateSwitcher - 日期切换器
- 用于：今日快讯页面顶部
- 功能：前一天 / 今天 / 后一天
- 特性：大按钮、居中显示、日期格式化

#### 3.2 QuickTimeFilter - 快速时间筛选
- 用于：分类浏览页面
- 选项：今日、3日、7日、30日、全部
- 特性：横向滚动、胶囊按钮

#### 3.3 CustomDateRangePicker - 自定义日期范围
- 用于：分类浏览页面（点击"自定义"）
- 功能：开始日期 + 结束日期选择
- 特性：日历选择器、确认/取消

#### 3.4 AudioTimeFilter - 音频时间筛选
- 用于：音频概览页面
- 选项：近7日、近30日、近90日、全部
- 特性：下拉选择、紧凑显示

#### 3.5 辅助组件
- **ResultCount** - 结果计数显示（"共 X 条"）
- **EmptyState** - 空状态提示
- **TimeFilterPreset** - 预设类型定义

---

## 🏗️ 信息架构（4个一级页面）

### 页面结构
```
TabBar导航（底部）
├─ 今日快讯（home）     - 默认首页
├─ 分类浏览（category） - 筛选查看
├─ 音频概览（audio）    - 历史音频
└─ 设置/偏好（settings） - 个性化设置

二级页面（无TabBar）
├─ 详情页（detail）     - 新闻详细内容
└─ 我的收藏（bookmarks） - 收藏列表
```

---

## 📁 资源文件位置

### Logo 文件
- `/exports/icons-png/logo-dark.png` - 深色logo（用于浅色背景）
- `/exports/icons-png/logo-light.png` - 浅色logo（用于深色背景）

### TabBar 图标
```
/exports/icons-png/
├─ tabbar-home-gray.png / dark.png
├─ tabbar-category-gray.png / dark.png
├─ tabbar-audio-gray.png / dark.png
└─ tabbar-settings-gray.png / dark.png
```

### 其他图标
- `/exports/icons-png/` 目录下的所有图标资源

---

## 🎨 核心配色规范

### 主色调
```css
/* 头部渐变 */
background: linear-gradient(135deg, #1e293b 0%, #334155 100%)

/* 页面背景 */
background: #f8fafc

/* TabBar */
未激活：#9ca3af
激活：#1e293b
背景：#ffffff

/* 强调色 */
主强调色：#f97316（橙色）
链接/按钮：#3b82f6（蓝色）
```

### 分类专属色
```css
IR情报：#3b82f6（蓝色）
AI・数字化：#10b981（绿色）
证券/金融：#8b5cf6（紫色）
人事・组织：#f97316（橙色）
治理：#6b7280（灰色）
```

### 等级专属色
```css
S级：#f97316（橙色）
A级：#3b82f6（蓝色）
B级：#6b7280（灰色）
```

---

## 💻 开发要求

### 技术规范
- ✅ 微信小程序原生开发（不使用框架）
- ✅ 使用 `rpx` 单位（响应式）
- ✅ 严格遵循文档规范，不自由发挥
- ✅ 所有颜色使用文档中的精确色值
- ✅ 必须实现组件系统的32+种变体

### 组件开发优先级
1. **第一阶段**：实现三大核心组件
   - CategoryTag（12种变体）
   - LevelBadge（9种变体）
   - TimeFilter（11种变体）

2. **第二阶段**：集成到各页面
   - 今日快讯：DateSwitcher + 新闻卡片（含标签和徽章）
   - 分类浏览：CategoryFilterBar + QuickTimeFilter
   - 音频概览：AudioTimeFilter
   - 设置页面：CategoryChecklist

3. **第三阶段**：二级页面
   - 详情页：标签和徽章显示
   - 我的收藏：新闻卡片列表

---

## 📋 开始开发前的确认清单

请在开始开发前确认你已经：

- [ ] 读取了 **PROMPT_FOR_GEMINI.md**（项目总览）
- [ ] 读取了 **WECHAT_MINIPROGRAM_UI_GUIDE.md**（完整UI规范）
- [ ] 读取了 **BRAND_GUIDE.md**（品牌视觉系统）
- [ ] 读取了 **UNIFIED_COMPONENT_SYSTEM.md**（统一组件系统）⭐
- [ ] 读取了 **UI_COMPONENTS_SPECIFICATION.md**（组件详细规范）⭐
- [ ] 理解了5大分类系统及其专属颜色
- [ ] 理解了3级等级系统及其含义
- [ ] 理解了时间筛选的5种场景
- [ ] 知道了所有资源文件的位置
- [ ] 明确了开发优先级

---

## 🚀 准备好了吗？

**请先完成以下任务：**

1. 读取上述所有文档
2. 告诉我你理解的：
   - 项目架构（4个主页面 + 2个二级页面）
   - 三大核心组件系统（CategoryTag、LevelBadge、TimeFilter）
   - 5大分类的颜色和含义
   - 3级等级的颜色和含义
   - 设计风格特点（专业克制、日系沉稳、金融咨询风）

3. 确认你能看到：
   - 所有markdown文档
   - `/exports/icons-png/` 目录下的图标资源
   - 统一组件系统的设计规范

**准备好后，回复"我已阅读完所有文档，理解了统一组件系统，可以开始开发"，然后告诉我你的理解！**

---

## ⚠️ 重要提醒

### 不要自由发挥！
- ❌ 不要改变配色方案
- ❌ 不要修改组件变体数量
- ❌ 不要使用娱乐化或卡通风格
- ❌ 不要忽略日系沉稳的设计要求

### 必须严格遵循！
- ✅ 使用文档中的精确色值
- ✅ 实现所有32+种组件变体
- ✅ 保持专业克制的金融咨询风格
- ✅ 每个分类使用对应的专属颜色
- ✅ 支持中日双语显示

---

## 📞 如有疑问

如果有任何不清楚的地方，请立即询问：
- 组件的具体实现细节
- 颜色规范的确认
- 页面布局的疑问
- 资源文件的使用方式

**不要猜测，不要假设，有疑问立即提问！**

---

**开始吧！期待你的理解反馈！** 🎯✨
